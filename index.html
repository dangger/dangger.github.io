
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>dangge&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="dangge's blog">
<meta property="og:url" content="https://blog.dangge.moe/index.html">
<meta property="og:site_name" content="dangge's blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dangge's blog">
<meta name="twitter:creator" content="@dangge2">
<link rel="publisher" href="dangge">
  
    <link rel="alternative" href="/atom.xml" title="dangge&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">dangge&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="blog.dangge.moe">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-什么是成熟？" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/27/index.html" class="article-date">
  <time datetime="2017-03-27T08:14:47.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/XJB写/">XJB写</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/27/index.html">什么是成熟？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="本文极度啰嗦且充满个人负能量，为了不浪费你的时间请赶紧ctrl-w。"><a href="#本文极度啰嗦且充满个人负能量，为了不浪费你的时间请赶紧ctrl-w。" class="headerlink" title="本文极度啰嗦且充满个人负能量，为了不浪费你的时间请赶紧ctrl+w。"></a>本文极度啰嗦且充满个人负能量，为了不浪费你的时间请赶紧ctrl+w。</h1>
        
          <p class="article-more-link">
            <a href="/2017/03/27/index.html#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2017/03/27/index.html" data-id="cj0s758dl001tpg35k369o8ma" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2017/03/27/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/galgame/">galgame</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/碎碎念/">碎碎念</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/秽翼的尤斯蒂娅/">秽翼的尤斯蒂娅</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-zzuwlan自动认证脚本的一点总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/05/index.html" class="article-date">
  <time datetime="2017-03-05T15:46:00.000Z" itemprop="datePublished">2017-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/05/index.html">0基础开发 zzuwlan 自动认证脚本的总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="应该是巨坑，超长且啰嗦"><a href="#应该是巨坑，超长且啰嗦" class="headerlink" title="应该是巨坑，超长且啰嗦"></a>应该是巨坑，超长且啰嗦</h1><h3 id="为什么要有这个东西"><a href="#为什么要有这个东西" class="headerlink" title="为什么要有这个东西"></a>为什么要有这个东西</h3><p>先来看看认证界面是什么样的:<br><img src="https://o5zfda3bu.qnssl.com/blog/zzuwlan1.png" alt="认证界面"><br>看起来多么简单粗暴，完美秉承了 simple is the best 的原则（口胡不下去了<br>反正就是每次都要打个验证码还要点点点真 TM 烦，作为一个程序员怎么能每天干这么机械的活！<br>说搞就搞，先去买本犀牛书看….(卒</p>
<h3 id="开发思路"><a href="#开发思路" class="headerlink" title="开发思路"></a>开发思路</h3><p>首先通过 chrome 的网络分析工具，我们得知首先你请求任意一个地址，zzuwlan 都会将你劫持到认证的页面去，代码大概是长这样的:<br><img src="https://o5zfda3bu.qnssl.com/blog/zzuwlan2.png" alt="认证劫持"><br>然后就是上图那样的认证界面，输入用户名密码和验证码点击认证就 OK 了，看起来是不是非常简单？<br>确实也不难，但是为了防止你用脚本完成这个过程(我猜的)，他们设置了一些坑。<br>首先确定脚本的思路，我们需要使用<a href="https://tampermonkey.net/">tampermonkey</a>来运行自定义脚本，这个东西是干嘛的我就不啰嗦了。<br>脚本一开始的思路是：随便 get 一个 http 的网址(因为 https 的网址会卡在证书验证上)，然后拿到认证地址，访问，填充用户名和密码，验证码我们选择直接手撸 ocr 验证，然后后面提交就是了。<br>当然，既然是一开始。。。就证明我踩坑了。<br>
        
          <p class="article-more-link">
            <a href="/2017/03/05/index.html#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2017/03/05/index.html" data-id="cj0s758da0018pg35pw8lzbbi" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2017/03/05/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zzuwlan/">zzuwlan</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/油猴/">油猴</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mac下如何通过isatap隧道连接郑大IPV6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/26/index.html" class="article-date">
  <time datetime="2017-02-26T13:17:00.000Z" itemprop="datePublished">2017-02-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/26/index.html">Mac下如何通过isatap隧道使用郑大IPV6</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>嗯。。。如果你是Windows想使用isatap隧道，请参考<a href="https://blog.dangge.moe/2015/06/08/index.html">这篇文章</a>  </p>
<h4 id="为什么要有这个东西"><a href="#为什么要有这个东西" class="headerlink" title="为什么要有这个东西"></a>为什么要有这个东西</h4><p>傻*我校并没有DHCP的ipv6能用(起码2017年02月26日21:19:15之前不通)，不过还好我校提供了isatap隧道接入。。。<br>然而你百度出来的教程99%都是Windows下的用法，mac下的用法目前来看除了tuna的大佬们写了个之外，别的并搜不到什么。。。<br>嘛毕竟这玩意在国内也就那么几个学校有。。。可以理解</p>
<h4 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h4><p>笔者目前使用的是Mac OS 10.11.6，不过我觉得这玩意应该在10.12也可以用。。。<br>脚本如下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#清除IPV6路由表</span></div><div class="line">route delete -inet6 default</div><div class="line">ifconfig gif0 destroy</div><div class="line"><span class="comment">#取本地的ip地址，网卡名不一样的自己看着改</span></div><div class="line">IP=`ifconfig en1 | grep <span class="string">"inet "</span>| awk <span class="string">'&#123;print $2&#125;'</span>`</div><div class="line"><span class="comment">#下面的isatap隧道地址写死了，如果你是别的学校的可以自己改那个222.22.32.161...(应该都看得懂</span></div><div class="line"><span class="comment">#再啰嗦一句 ipv6头可以在Windows下获取一次然后得出。。。前面是固定的，后面是你的内网IP地址- -</span></div><div class="line">sudo ifconfig gif0 create</div><div class="line">sudo ifconfig gif0 tunnel <span class="variable">$IP</span> 222.22.32.161</div><div class="line">sudo ipconfig <span class="built_in">set</span> gif0 MANUAL-V6 2001:da8:5000:40f:0:5efe:<span class="variable">$IP</span> 64</div><div class="line">sudo route add -inet6 ::/0 -interface gif0</div></pre></td></tr></table></figure></p>
<p>注意事项:<br>此脚本需要执行权限，sudo chmod +x isatap.sh（应该都看得懂</p>
<h4 id="资料参考"><a href="#资料参考" class="headerlink" title="资料参考"></a>资料参考</h4><p><a href="https://github.com/tuna/ipv6.tsinghua.edu.cn/blob/master/isatap.md" target="_blank" rel="external">清华大学 IPv6 ISATAP 配置说明</a><br>PS：其实Windows下面那个脚本也可以更新了。。。不过懒癌发作凑合用吧。。。<br>Linux的脚本直接参考TUNA给的。。。改改就能用<br>PPS：大清的脚本是有坑的。。。改了好久</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2017/02/26/index.html" data-id="cj0s758cq000fpg35zkpfkgf2" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2017/02/26/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IPV6/">IPV6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/isatap/">isatap</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mac下配置基于http认证的git环境" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/19/index.html" class="article-date">
  <time datetime="2017-02-19T09:58:00.000Z" itemprop="datePublished">2017-02-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/19/index.html">Mac下配置基于http认证的git环境</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="为什么要有这个东西"><a href="#为什么要有这个东西" class="headerlink" title="为什么要有这个东西"></a>为什么要有这个东西</h3><p>hostker是一家非常好的。。。额云计算服务商（他们自己说的），但是一直以来有个有点蛋疼的问题。。。<br>他们家的应用虽然基于git，但是不支持ssh。。。<br>然后每次commit都要敲一遍账号密码。。。虽然不是很费事但是总归不是个办法<br>然后今天xjb搞的时候发现了个东西。。。叫<a href="https://www.ibm.com/support/knowledgecenter/ssw_aix_71/com.ibm.aix.files/netrc.htm" target="_blank" rel="external">.netrc</a><br>大概看了看，可以解决每次都输入账号密码来认证的蛋疼局面- -<br><del>我一定不是最后一个知道的！</del>  </p>
<h3 id="怎么用"><a href="#怎么用" class="headerlink" title="怎么用"></a>怎么用</h3><p><pre><br>vim ~/.netrc<br></pre></p>
<p><pre><br>machine git-ct.smartgslb.com（这里可以替换成别的git地址）<br>    login example@example.com（你的邮箱） password pwd(你的密码)<br></pre><br>ok大功告成。。。是不是非常简单无脑<del>然而我敲了两年岂可修</del></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>多上网长见识。。。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2017/02/19/index.html" data-id="cj0s758ct000kpg35s7v9kw1p" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2017/02/19/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hostker/">hostker</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-一次镜像站配置问题的解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/index.html" class="article-date">
  <time datetime="2017-01-10T16:43:09.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/index.html">一次镜像站配置问题的解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>在使用debian7更新的时候,发现自己负责的<a href="https://mirrors.zzu.edu.cn" target="_blank" rel="external">校园镜像站</a>在强制 https 之后居然不能用了,提示是这样的:</p>
<blockquote>
<p>gnutls_handshake() warning: The server name sent was not recognized</p>
</blockquote>
<p>WTF???明明 <a href="https://mirrors.ustc.edu.cn" target="_blank" rel="external">USTC</a>就毫无问题,为啥换到我校的就不行了?  </p>
<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p>一开始我以为是服务端问题,然后各种谷歌也没结果,最后找到了<a href="https://49.gs/" target="_blank" rel="external">神秀师傅</a>一番请教之后,排除了服务端的问题…(顺便一提我随手配的SSL在ssllab评分居然都是A,科科)<br>那问题看来是服务端的了,然后神秀一番操作之后告诉我好像这个域名的SNI有点问题耶<br>然后丢给我一个<a href="https://jervis.ws/qualys-labs-ssl-test-incorrect-sni-alerts/" target="_blank" rel="external">链接</a>  </p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>所以就是在apache的 ssl.conf 里加一行  </p>
<blockquote>
<p>ServerName www.你的域名.com    </p>
</blockquote>
<p>即可.<br>妈的好智障的问题啊…而且并不是所有系统都会触发,神秀用的ubuntu16.04就可以强行无视这个错误更新…</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2017/01/11/index.html" data-id="cj0s758dg001lpg35upmy9dmb" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2017/01/11/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssl/">ssl</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/镜像站/">镜像站</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-君の名は" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/09/index.html" class="article-date">
  <time datetime="2016-12-09T13:37:04.000Z" itemprop="datePublished">2016-12-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/XJB写/">XJB写</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/09/index.html">君の名は。</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在经历了盗版流出,某组及时做了翻译但是被喷成狗然后大家撕逼大战这么一堆心累的破事之后,这个片子终于是被光线影业确认引进了.<br>然后我自然就去看了…归功于你B的福,我还拿了一张第二天的票可以二刷一下.<br>感谢二刷,我看到了很多第一遍看不到的细节.<br>然后懒癌发作,这文也鸽了一星期,然后我去三刷了…上映一周之后,人明显少了很多,观影气氛还是挺不错的.<del>除了有个傻逼男一直在BB剧情</del></p>
<p>首先还是谈一谈我对这片子本身的看法吧.<br>首先,作画无敌.一刷的时候看到开头那个OP我差一点以为是60帧.然后二刷的时候留意了一下,只有OP里三叶在地上坐着那处是一拍一(我能看出来的),别的应该都是正常的一拍三.然而,即使不是<del>60帧</del>(确认是24帧),即使不是4K(<del>存疑</del>)确认2K,安藤雅司的这个作画也是神级.毕竟说起新海诚,大家的印象应该都是一致的,暖色调,光影,细腻到浪费经费的背景,这些都是安藤这个天才作监的功劳.可以这么说,你名的作画应该代表了2016年底之前,日本手绘动画的巅峰.  </p>
<p>然后说说人设吧.实际上人设也有安藤这个天才的参与,但是主要还是田中将贺这老怪物搞的.他的人设其实并不算特别的令人印象深刻,但是这种富有三次元特征的二次元人设还是挺合大众胃口的,毕竟对这个片子来说,重要的是受众广,而不是像Q娃一样粉丝向.  </p>
<p>然后剧情.其实看了三遍之后,这个剧情已经很清晰了,没有别的作品那么烧脑.作为一部和时间有关的作品,本片的时间线毫无疑问是很乱的,但是如果你是一个注重细节的人,那么本片除了中后期的时间线稍微乱了一点不容易立刻反应过来,其他时间还是非常好认的.  </p>
<h3 id="严重剧透注意"><a href="#严重剧透注意" class="headerlink" title="严重剧透注意"></a>严重剧透注意</h3><p><del>本来这里写了一堆剧情简介,但是我发现这玩意毫无意义,删了</del></p>
<p>8年后的泷已经成为准社畜,三叶比他大三岁自然早就是社畜(应该吧),然后这两个人在电车上错过了一次.<br>没错,电车,男女主,错过.<br>这才是新海诚片子的一般尿性,第一遍看到这里我已经准备好刀片了.<br>然后镜头一切就冬天了,男主走过一座桥,和撑伞的女主擦肩而过.<br>看到这里,我觉得好多人已经要忍不住了…<br>还好新海诚这次想明白了,卖座和理想只能选一个,于是男主女主在一个楼梯前相遇了.<br>这片子我个人最泪点的地方,不是女主孤身一人,花掉了自己一年零花钱跑去东京见男主;也不是女主在跑去说服她父亲的路上跌倒,然后看到手心里男主写的”すきだ”;而是最后,男主和女主在两列电车上互相抬头,然后都跑下车去找对方,最后在那个神社前,两人擦肩而过那一瞬.<br>男主回头了,女主也回头了.<br>这就足够让看过秒五的人飙泪了.<br>即使忘却了名字,但是能再次相遇,真是太好了呢.  </p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2016/12/09/index.html" data-id="cj0s758du0028pg35acrm28ch" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2016/12/09/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/你的名字/">你的名字</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-一个神秘IP列表" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/15/index.html" class="article-date">
  <time datetime="2016-10-15T15:42:56.000Z" itemprop="datePublished">2016-10-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/15/index.html">一个神秘IP列表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有啥用呢?  自己琢磨吧<br>
        
          <p class="article-more-link">
            <a href="/2016/10/15/index.html#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2016/10/15/index.html" data-id="cj0s758d80016pg35zadoxmbi" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2016/10/15/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-针对 hostker 的 HSTS 设置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/01/index.html" class="article-date">
  <time datetime="2016-10-01T13:03:34.000Z" itemprop="datePublished">2016-10-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/01/index.html">针对 hostker 的 HSTS 设置 v2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本来不想写太多的,但是我被坑了之后感觉还是要改一下的<br>首先,我们要明确一件事: HSTS 是什么<br><a href="https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8" target="_blank" rel="external">Wikipedia</a> 是这么写的:  </p>
<blockquote>
<p>HSTS的作用是强制客户端（如浏览器）使用HTTPS与服务器创建连接。服务器开启HSTS的方法是，当客户端通过HTTPS发出请求时，在服务器返回的超文本传输协议响应头中包含Strict-Transport-Security字段。非加密传输时设置的HSTS字段无效。</p>
</blockquote>
<p>所以我们现在就知道了,要实现 HSTS ,你必须有一个 header 去告诉浏览器.<br>我的 .htaccess 文件是这样写的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">#针对 hostker 的 HSTS 设置</div><div class="line">RewriteEngine On</div><div class="line">RewriteCond %&#123;HTTP:KERSSL&#125; !on</div><div class="line">&lt;If &quot;%&#123;HTTP:KERSSL&#125; == &apos;on&apos;&quot;&gt;</div><div class="line">    # Header Set</div><div class="line">    Header always set Strict-Transport-Security &quot;max-age=86400&quot;</div><div class="line">&lt;/If&gt;</div><div class="line">RewriteRule (.*) https://blog.dangge.moe%&#123;REQUEST_URI&#125; [R=301,L]</div><div class="line">#貌似是 hexo 要求的</div><div class="line">RewriteBase /</div><div class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</div><div class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</div><div class="line">RewriteRule ^(.*)$ /index.php/$1 [L]</div></pre></td></tr></table></figure></p>
<p>max-age 的值我设置的比较小,主要是怕设置太长,万一网站迁移的时候浏览器崩了…  –<a href="http://weibo.com/1787076481/EaqcxhWIf" target="_blank" rel="external">出处</a><br>貌似是有点水。。。然而懒的写字<br>希望能帮助到谁。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2016/10/01/index.html" data-id="cj0s758es004bpg35cd91he74" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2016/10/01/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-一份nginx.conf备份" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/31/index.html" class="article-date">
  <time datetime="2016-07-31T13:34:15.000Z" itemprop="datePublished">2016-07-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/31/index.html">一份 nginx.conf 备份</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">    # Port that the web server will listen on.</div><div class="line">    listen          80;</div><div class="line"></div><div class="line">    # Host that will serve this project.</div><div class="line">    server_name     一般填域名;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    # The location of our projects public directory.</div><div class="line">    root            /home/www/这里一般填域名;</div><div class="line"></div><div class="line">    # Point index to the Laravel front controller.</div><div class="line">    index           index.php;</div><div class="line"></div><div class="line">    location / &#123;</div><div class="line"></div><div class="line">        # URLs to attempt, including pretty ones.</div><div class="line">        try_files   $uri $uri/ /index.php?$query_string;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # Remove trailing slash to please routing system.</div><div class="line">    if (!-d $request_filename) &#123;</div><div class="line">        rewrite     ^/(.+)/$ /$1 permanent;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # PHP FPM configuration.</div><div class="line">    location ~* \.php$ &#123;</div><div class="line">            fastcgi_pass                    unix:/var/run/php5-fpm.sock;</div><div class="line">            fastcgi_index                   index.php;</div><div class="line">            fastcgi_split_path_info         ^(.+\.php)(.*)$;</div><div class="line">            include                         /etc/nginx/fastcgi_params;</div><div class="line">            fastcgi_param                   SCRIPT_FILENAME $document_root$fastcgi_script_name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    # We don&apos;t need .ht files with nginx.</div><div class="line">    location ~ /\.ht &#123;</div><div class="line">            deny all;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    # Set header expirations on per-project basis</div><div class="line">    location ~* \.(?:ico|css|js|jpe?g|JPG|png|svg|woff)$ &#123;</div><div class="line">            expires 365d;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2016/07/31/index.html" data-id="cj0s758db001bpg35wfp71nj5" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2016/07/31/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-如何高速下载狗盘文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/13/index.html" class="article-date">
  <time datetime="2016-05-12T18:11:59.000Z" itemprop="datePublished">2016-05-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/渣技术/">渣技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/13/index.html">VPS 下载 Google Drive 片源</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="自用记录"><a href="#自用记录" class="headerlink" title="自用记录"></a>自用记录</h2><p>0.你得有个 Linux 服务器<br>0.1.去<a href="https://github.com/prasmussen/gdrive" target="_blank" rel="external">github地址</a>下载你对应系统的二进制包<br>0.2.装好它<br>0.3.第一次使用需要 Oauth2 授权，不多说<br>1.<del>把别人发布的片源转存到自己的 Google Drive</del>直接用文件 id 就行，我蠢<br>2.获取<del>分享</del>链接,拿到文件 id<br>3.drive download -i &lt;文件id&gt;<br>4.python -m SimpleHTTPServer<br>5.下载，over</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://blog.dangge.moe/2016/05/13/index.html" data-id="cj0s758e1002opg35ccdbdyhd" class="article-share-link">分享到</a>
      

      
        <a href="https://blog.dangge.moe/2016/05/13/index.html#disqus_thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/XJB写/">XJB写</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/渣技术/">渣技术</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/碎碎念/">碎碎念</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/脑洞/">脑洞</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IPV6/">IPV6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/">apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dangge/">dangge</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/galgame/">galgame</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hostker/">hostker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/isatap/">isatap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssl/">ssl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zzuwlan/">zzuwlan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/你的名字/">你的名字</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/油猴/">油猴</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/碎碎念/">碎碎念</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/秽翼的尤斯蒂娅/">秽翼的尤斯蒂娅</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/镜像站/">镜像站</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/IPV6/" style="font-size: 10px;">IPV6</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/dangge/" style="font-size: 20px;">dangge</a> <a href="/tags/galgame/" style="font-size: 10px;">galgame</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hostker/" style="font-size: 10px;">hostker</a> <a href="/tags/isatap/" style="font-size: 10px;">isatap</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/ssl/" style="font-size: 10px;">ssl</a> <a href="/tags/zzuwlan/" style="font-size: 10px;">zzuwlan</a> <a href="/tags/你的名字/" style="font-size: 10px;">你的名字</a> <a href="/tags/油猴/" style="font-size: 10px;">油猴</a> <a href="/tags/碎碎念/" style="font-size: 10px;">碎碎念</a> <a href="/tags/秽翼的尤斯蒂娅/" style="font-size: 10px;">秽翼的尤斯蒂娅</a> <a href="/tags/镜像站/" style="font-size: 10px;">镜像站</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/27/index.html">什么是成熟？</a>
          </li>
        
          <li>
            <a href="/2017/03/05/index.html">0基础开发 zzuwlan 自动认证脚本的总结</a>
          </li>
        
          <li>
            <a href="/2017/02/26/index.html">Mac下如何通过isatap隧道使用郑大IPV6</a>
          </li>
        
          <li>
            <a href="/2017/02/19/index.html">Mac下配置基于http认证的git环境</a>
          </li>
        
          <li>
            <a href="/2017/01/11/index.html">一次镜像站配置问题的解决</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 dangge<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<script>
  var disqus_shortname = 'dangge';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>

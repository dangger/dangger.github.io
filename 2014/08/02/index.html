<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>CentOS下shadowsocks-libev一键安装脚本 | dangge&#39;s blog</title>
  <meta name="description" content="dangge blog." />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="CentOS下shadowsocks-libev一键安装脚本本脚本适用环境：系统支持：CentOS/Redhat/Fedora内存要求：≥128M日期：2014年07月12日
关于本脚本：一键安装 libev 版的 shadowsocks 最新版本。该版本的特点是内存占用小（600k左右），低 CPU 消耗，甚至可以安装在基于 OpenWRT 的路由器上。
默认配置：服务器端口：8989客户端端口">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS下shadowsocks-libev一键安装脚本">
<meta property="og:url" content="https://blog.dangge.moe/2014/08/02/index.html">
<meta property="og:site_name" content="dangge's blog">
<meta property="og:description" content="CentOS下shadowsocks-libev一键安装脚本本脚本适用环境：系统支持：CentOS/Redhat/Fedora内存要求：≥128M日期：2014年07月12日
关于本脚本：一键安装 libev 版的 shadowsocks 最新版本。该版本的特点是内存占用小（600k左右），低 CPU 消耗，甚至可以安装在基于 OpenWRT 的路由器上。
默认配置：服务器端口：8989客户端端口">
<meta property="og:updated_time" content="2016-05-07T03:42:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS下shadowsocks-libev一键安装脚本">
<meta name="twitter:description" content="CentOS下shadowsocks-libev一键安装脚本本脚本适用环境：系统支持：CentOS/Redhat/Fedora内存要求：≥128M日期：2014年07月12日
关于本脚本：一键安装 libev 版的 shadowsocks 最新版本。该版本的特点是内存占用小（600k左右），低 CPU 消耗，甚至可以安装在基于 OpenWRT 的路由器上。
默认配置：服务器端口：8989客户端端口">
  
  
    <link rel="icon" href="/favicon.png">
  

	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
  

</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  dangge blog
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      <article id="post-CentOS下shadowsocks-libev一键安装脚本"
  class="post article white-box article-type-post"
  itemscope itemprop="blogPost">
	<h2 class="title">
  	<a href="/2014/08/02/index.html">
    	CentOS下shadowsocks-libev一键安装脚本
    </a>
  </h2>
	<time>
	  8月 2, 2014
	</time>
	<section class="content">
  	<div class="article-entry" itemprop="articleBody">
    	<p>CentOS下shadowsocks-libev一键安装脚本<br>本脚本适用环境：<br>系统支持：CentOS/Redhat/Fedora<br>内存要求：≥128M<br>日期：2014年07月12日</p>
<p>关于本脚本：<br>一键安装 libev 版的 shadowsocks 最新版本。该版本的特点是内存占用小（600k左右），低 CPU 消耗，甚至可以安装在基于 OpenWRT 的路由器上。</p>
<p>默认配置：<br>服务器端口：8989<br>客户端端口：1080<br>密码：自己设定（如不设定，默认为teddysun.com）</p>
<p>客户端下载：<br><a href="http://sourceforge.net/projects/shadowsocksgui/files/dist/" target="_blank" rel="external">http://sourceforge.net/projects/shadowsocksgui/files/dist/</a></p>
<a id="more"></a>
<p>使用方法：<br>使用root用户登录，运行以下命令：</p>
<p>wget –no-check-certificate <a href="https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh" target="_blank" rel="external">https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh</a><br>chmod +x shadowsocks-libev.sh<br>./shadowsocks-libev.sh 2&gt;&amp;1 | tee shadowsocks-libev.log<br>安装完成后，脚本提示如下：</p>
<p>Congratulations, shadowsocks-libev install completed!<br>Your Server IP:your_server_ip<br>Your Server Port:8989<br>Your Password:your_password<br>Your Local IP:127.0.0.1<br>Your Local Port:1080<br>Your Encryption Method:aes-256-cfb</p>
<p>Welcome to visit:<a href="http://teddysun.com/357.html" target="_blank" rel="external">http://teddysun.com/357.html</a><br>Enjoy it!<br>卸载方法：<br>使用 root 用户登录，运行以下命令：</p>
<p>./shadowsocks-libev.sh uninstall<br>其他事项：<br>客户端配置的参考链接：<a href="http://teddysun.com/339.html" target="_blank" rel="external">http://teddysun.com/339.html</a></p>
<p>安装完成后即已后台启动 shadowsocks ，运行：</p>
<p>ps -ef | grep ss-server | grep -v ps | grep -v grep<br>可以查看进程是否存在。<br>本脚本安装完成后，会将 shadowsocks-libev 加入开机自启动。</p>
<p>使用命令：<br>启动：/etc/init.d/shadowsocks start<br>停止：/etc/init.d/shadowsocks stop<br>重启：/etc/init.d/shadowsocks restart<br>查看状态：/etc/init.d/shadowsocks status</p>
<p>更多版本 shadowsocks 安装：<br>CentOS 下 shadowsocks-python 一键安装脚本<br>CentOS 下 shadowsocks-nodejs 一键安装脚本<br>Debian 下 shadowsocks-libev 一键安装脚本</p>
<p>特别说明：<br>1、已安装旧版本的 shadowsocks 需要升级的话，需下载本脚本的最新版，运行卸载命令./shadowsocks-libev.sh uninstall 后，再次执行本脚本即可安装最新版。<br>2、关于 CentOS 的默认 iptables 防火墙规则 icmp-host-prohibited ，如果安装之后发现已经启动 shadowsocks，本地客户端却不能连接上，请检查 iptables 是不是有如下的一条规则：</p>
<p>REJECT     all  –  0.0.0.0/0            0.0.0.0/0           reject-with icmp-host-prohibited<br>运行命令：</p>
<p>/etc/init.d/iptables status<br>可以查看。如果有这条规则，则添加的 8989 端口需手动更改一下，放到这条规则的上一行。编辑 /etc/sysconfig/iptables 文件，将：</p>
<p>-A INPUT -p tcp -m state –state NEW -m tcp –dport 8989 -j ACCEPT<br>放在：</p>
<p>-A INPUT -j REJECT –reject-with icmp-host-prohibited<br>的前面。最终效果如下：</p>
<p>-A INPUT -p tcp -m state –state NEW -m tcp –dport 8989 -j ACCEPT<br>-A INPUT -j REJECT –reject-with icmp-host-prohibited<br>编辑完后，重启 iptables 防火墙。命令：/etc/init.d/iptables restart</p>
<p>2014年8月4日更新<br>对于垃圾VPS 很容易就自动关机。。。。重启VPS后 必须要再连接vps手动启动shadowsocks服务<br>简直麻烦死了。。。。其实只要加一行代码就OK<br>在VPS文件目录的/etc/rc.local文件中加一行：/etc/init.d/shadowsocks start<br>这样就可以避免每次重启VPS后还要手动运行shadowsocks服务。</p>
<p>参考链接：<br><a href="https://github.com/madeye/shadowsocks-libev" target="_blank" rel="external">https://github.com/madeye/shadowsocks-libev</a></p>
<p>作者：秋水逸冰<br>原文链接：CentOS下shadowsocks-libev一键安装脚本<br>秋水逸冰版权所有，转载请保留原文链接。</p>

  	</div>

	  <div class="article-tags tags">
		  
	  </div>
	</section>
</article>


<section id="comments">
	<div id="disqus_thread"></div>
</section>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="mailto:i@dangge.moe" class="social email"
          target="_blank" rel="external">
          <span class="icon icon-email"></span>
        </a>
      
        <a href="https://github.com/dangger" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/dangge2" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
        <a href="https://plus.google.com/+dangge/posts" class="social google"
          target="_blank" rel="external">
          <span class="icon icon-google"></span>
        </a>
      
        <a href="http://weibo.com/1639796395/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">dangge&#39;s blog</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  
<script>
  var disqus_shortname = 'dangge';
  
  var disqus_url = 'https://blog.dangge.moe/2014/08/02/index.html';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>




<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "google";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
